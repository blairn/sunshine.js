<!DOCTYPE html>
<meta charset="utf-8">
<html>
  <head>
    <link type="text/css" rel="stylesheet" href="../style/style.css"/>
    <script charset="utf-8" src="http://d3js.org/d3.v3.min.js"></script>
    <script src="../sunshine.js"></script>
  </head>
<body>
  <div id='chart' style='height:400px'></div>
  
  <script>
    var data = [
      {key:'a', value:1}, 
      {key:'b', value:1}, 
      {key:'c', value:2}, 
      {key:'d', value:3}, 
      {key:'e', value:5}, 
      {key:'f', value:8}, 
      {key:'g', value:5}
    ];

    var data2 = [
      {key:'a', value:2}, 
      {key:'b', value:1}, 
      {key:'c', value:8}, 
      {key:'d', value:2}, 
      {key:'e', value:5}, 
      {key:'f', value:1}, 
      {key:'g', value:3}
    ];

    chart = sunshine.pieChart();

    d3.select("#chart").datum(data).call(chart);

    setTimeout(function() { 
      d3.select("#chart").datum(data2).call(chart);
    }, 1000)
    setTimeout(function() { 
      chart.padAngle(0.1);
      chart.redraw();
    }, 2000)
    setTimeout(function() { 
      chart.padAngle(0.01);
      chart.redraw();
    }, 3000)
    setTimeout(function() {
      chart.transitionDuration(800);
      chart.startAngle(-Math.PI/2);
      chart.endAngle(Math.PI/2);
      chart.redraw();
    }, 4000)
    setTimeout(function() {
      chart.transitionDuration(300);      
      d3.select("#chart").datum(data).call(chart);
    }, 5000)
    setTimeout(function() {
      chart.filters(['a','c','e']);
      chart.redraw();
    }, 6000)
    setTimeout(function() {
      chart.transitionDuration(800);
      chart.startAngle(-Math.PI);
      chart.endAngle(Math.PI);
      chart.redraw();
    }, 7000)
    setTimeout(function() {
      chart.transitionDuration(300);
      chart.filters([]);
      chart.redraw();
    }, 8000)
    setTimeout(function() {
      chart.transitionDuration(800);
      chart.startAngle(0);
      chart.endAngle(Math.PI*2);
      chart.redraw();
    }, 9000)
    
  </script>
</body>
</html>